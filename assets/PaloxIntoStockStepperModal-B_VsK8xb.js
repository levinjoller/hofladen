const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/DropdownSearchModal-By3ZU8q_.js","assets/index-B4NoDcFB.js","assets/index-CV2ytict.css","assets/use-db-action-CqLjSPSZ.js","assets/_plugin-vue_export-helper-DlAUqK2U.js","assets/use-db-action-DTt0FHhZ.css","assets/is-numeric-key-DsADXjeW.js","assets/ModalSelectItem--ICaZuFT.js","assets/StockColumnSlotSelectPage-d48Mm74e.js","assets/PaloxTabs-CawpKXHv.js","assets/product-types-BIT3DkQM.js","assets/customer-list-schema-CSgvwQ6m.js","assets/persons-Cmw6zaTL.js","assets/supplier-list-schema-B4OYM1ea.js","assets/PaloxListPage-MSbGyCLw.js","assets/PaloxListPage-BxrlA5ZL.css","assets/PaloxTabs-2JH9gBXJ.css","assets/StockColumnSlotSelectPage-B9gaSbjr.css"])))=>i.map(i=>d[i]);
import{d as W,aJ as q,x as Q,v as X,y as x,aK as Y,a as V,o as u,w as a,b as o,e,I as Z,f as D,p as _,l as I,F as E,aD as ee,g as te,h as B,aw as N,aL as oe,i as le,A as k,aE as A,aH as ae,G as y,a1 as s,j as ne,av as se,k as de,at as U,aA as ue,B as re,m as ie,_ as P,aB as me}from"./index-B4NoDcFB.js";import{u as ce,f as O,a as pe,b as fe,c as Se,d as he}from"./PaloxTabs-CawpKXHv.js";import{u as ve}from"./use-db-action-CqLjSPSZ.js";import{L as b}from"./PaloxListPage-MSbGyCLw.js";import{i as ge}from"./is-numeric-key-DsADXjeW.js";import"./product-types-BIT3DkQM.js";import"./customer-list-schema-CSgvwQ6m.js";import"./persons-Cmw6zaTL.js";import"./supplier-list-schema-B4OYM1ea.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const xe={key:0},Ve={key:1},_e={key:1},Ee=W({__name:"PaloxIntoStockStepperModal",setup(Ie){const r=y({loader:()=>P(()=>import("./DropdownSearchModal-By3ZU8q_.js"),__vite__mapDeps([0,1,2,3,4,5,6])),loadingComponent:b,delay:200}),i=y({loader:()=>P(()=>import("./ModalSelectItem--ICaZuFT.js"),__vite__mapDeps([7,1,2])),loadingComponent:b,delay:200}),R=y({loader:()=>P(()=>import("./StockColumnSlotSelectPage-d48Mm74e.js"),__vite__mapDeps([8,1,2,9,3,4,5,10,11,12,13,14,15,16,17])),loadingComponent:b,delay:200});function K(n){!ge(n)&&n.preventDefault()}const M=ce(),{nextStep:F,prevStep:$}=M,{canProceed:H,currentStep:m,isActionLoading:C,actionErrorMessage:w,selectedPaloxType:c,selectedPaloxNumber:d,selectedSupplier:S,selectedCustomer:h,selectedProduct:v,selectedStock:p,selectedStockColumnSlot:f}=q(M);function j(n){return Math.min(Math.max(n,0),9999)}Q(d,n=>{n!=null&&(d.value=j(n))});async function z(){var T;const{success:n,showSuccessToast:t,closeModal:l}=await F();n?(t&&x("Die Paloxe (".concat(d.value,") wurde erfolgreich zuoberst auf den Stapel ").concat((T=f.value)==null?void 0:T.display_name," eingelagert!"),"success",6e3),l&&L(!0)):w.value&&x(w.value,"danger",1e4)}function L(n){me.dismiss(n)}const{data:g,isLoading:G,execute:J}=ve(O);return X(async()=>{await J(!0),g.value&&g.value.length>0?c.value=g.value[0]:x("Es wurde keinen Standardwert fÃ¼r die Paloxenart gefunden.",Y)}),(n,t)=>(u(),V(e(ie),null,{default:a(()=>[o(e(Z),null,{default:a(()=>[o(e(D),null,{default:a(()=>[o(e(_),{slot:"start"},{default:a(()=>[o(e(I),{onClick:e($),disabled:e(m)===1},{default:a(()=>[o(e(E),{icon:e(ee)},null,8,["icon"])]),_:1},8,["onClick","disabled"])]),_:1}),o(e(te),null,{default:a(()=>[B("Paloxe einlagern - "+N(e(m))+" / 2",1)]),_:1}),o(e(_),{slot:"end"},{default:a(()=>[o(e(I),{onClick:t[0]||(t[0]=l=>L(!1))},{default:a(()=>[o(e(E),{icon:e(oe)},null,8,["icon"])]),_:1})]),_:1})]),_:1})]),_:1}),o(e(le),{class:"ion-padding"},{default:a(()=>[e(m)===1?(u(),k("div",xe,[o(e(ae),null,{default:a(()=>[o(e(i),{title:"Paloxenart",modelValue:e(c),"onUpdate:modelValue":t[1]||(t[1]=l=>s(c)?c.value=l:null),component:e(r),fetchMethod:e(O),isSearchable:!1,isParentLoadingDefault:e(G)},null,8,["modelValue","component","fetchMethod","isParentLoadingDefault"]),o(e(ne),null,{default:a(()=>[o(e(se),{position:"fixed"},{default:a(()=>[...t[10]||(t[10]=[B("Paloxen-Nr.",-1)])]),_:1}),o(e(de),{class:"ion-text-right",modelValue:e(d),"onUpdate:modelValue":t[2]||(t[2]=l=>s(d)?d.value=l:null),modelModifiers:{number:!0},type:"number",inputmode:"numeric",placeholder:"0000",pattern:"[0-9]*",min:"1",max:"9999",onKeydown:K,onPaste:t[3]||(t[3]=U(()=>{},["prevent"])),onDrop:t[4]||(t[4]=U(()=>{},["prevent"])),maxlength:4,disabled:!e(c)},null,8,["modelValue","disabled"])]),_:1}),o(e(i),{title:"Lieferant",modelValue:e(S),"onUpdate:modelValue":t[5]||(t[5]=l=>s(S)?S.value=l:null),component:e(r),fetchMethod:e(pe),isSearchable:!0,searchType:"text"},null,8,["modelValue","component","fetchMethod"]),o(e(i),{title:"Produkt",modelValue:e(v),"onUpdate:modelValue":t[6]||(t[6]=l=>s(v)?v.value=l:null),component:e(r),fetchMethod:e(fe),isSearchable:!0,searchType:"text"},null,8,["modelValue","component","fetchMethod"]),o(e(i),{title:"Lager",fetchMethod:e(Se),component:e(r),modelValue:e(p),"onUpdate:modelValue":t[7]||(t[7]=l=>s(p)?p.value=l:null),isSearchable:!1},null,8,["fetchMethod","component","modelValue"]),o(e(i),{title:"Kunde",modelValue:e(h),"onUpdate:modelValue":t[8]||(t[8]=l=>s(h)?h.value=l:null),component:e(r),fetchMethod:e(he),isSearchable:!0,searchType:"text"},null,8,["modelValue","component","fetchMethod"])]),_:1})])):e(m)===2?(u(),k("div",Ve,[e(p)?(u(),V(e(R),{key:0,modelValue:e(f),"onUpdate:modelValue":t[9]||(t[9]=l=>s(f)?f.value=l:null),selectedStock:e(p)},null,8,["modelValue","selectedStock"])):A("",!0)])):A("",!0)]),_:1}),o(e(ue),null,{default:a(()=>[o(e(D),null,{default:a(()=>[o(e(_),{slot:"end"},{default:a(()=>[o(e(I),{onClick:z,disabled:!e(H)||e(C)},{default:a(()=>[e(C)?(u(),V(e(re),{key:0,name:"crescent"})):(u(),k("span",_e,N(e(m)>1?"Speichern":"Weiter"),1))]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1})]),_:1}))}});export{Ee as default};
