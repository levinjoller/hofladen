const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/pdfmake-DTRPYMGS.js","assets/vendor-pdf-BDPRiQfQ.js"])))=>i.map(i=>d[i]);
import{_ as f}from"./vendor-ionic-DL3WDV-g.js";import"./vendor-grid-Bad8I008.js";const p=async()=>{const[n,{pdfVFS:e}]=await Promise.all([f(()=>import("./pdfmake-DTRPYMGS.js").then(a=>a.p),__vite__mapDeps([0,1])),f(()=>import("./vfs_fonts-hZcAo_wF.js"),[])]),t=n.default,o={NotoSans:{normal:"NotoSans.ttf",bold:"NotoSans.ttf"},NotoEmoji:{normal:"NotoEmoji.ttf"}};return t.setFonts(o),t.addVirtualFileSystem(e),t};function m(n,e){return e?e.split(".").reduce((t,o)=>t?t[o]:void 0,n)??"":""}function _(n){const e=[],t=new RegExp("\\p{Emoji_Presentation}","gu");let o=0,a;for(;(a=t.exec(n))!==null;)a.index>o&&e.push({text:n.slice(o,a.index)}),e.push({text:a[0],font:"NotoEmoji"}),o=a.index+a[0].length;return o<n.length&&e.push({text:n.slice(o)}),e}async function y(n,e,t){const o=await p(),a=new Date,s=e.map(r=>({text:r.headerName??r.field??"",style:"tableHeader"})),u=n.map(r=>e.map(i=>{let l;if(typeof i.valueGetter=="function")l=i.valueGetter({data:r,colDef:i})??"";else{const d=i.field?m(r,i.field):"";l=typeof i.valueFormatter=="function"?i.valueFormatter({value:d,data:r,colDef:i})??"":d??""}return{text:_(l),noWrap:!1}})),c={defaultStyle:{fontSize:10,font:"NotoSans"},content:[{text:`${t}Ã¼bersicht vom ${a.toLocaleString("de-CH")}`,fontSize:16,margin:[0,0,0,10]},{table:{headerRows:1,widths:Array(s.length).fill("*"),body:[s,...u],dontBreakRows:!0}}],styles:{tableHeader:{bold:!0,fillColor:"#eeeeee",alignment:"center"}}};o.createPdf(c).download(`${t}_${a.toLocaleDateString("de-CH").replace(/\./g,"-")}.pdf`)}export{y as exportDataAsPDF};
