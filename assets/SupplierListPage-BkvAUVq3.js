const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/AgGridWrapper-BoIPiCLw.js","assets/vendor-grid-Bad8I008.js","assets/index-YNPHqK-K.js","assets/vendor-ionic-DL3WDV-g.js","assets/index-CfmnWJvu.css","assets/AgGridWrapper-CBYO6srd.css"])))=>i.map(i=>d[i]);
import{a as c,b as m,w as f,x as _,c as g,d as h,v as w,_ as y}from"./vendor-ionic-DL3WDV-g.js";import{u as L,t as I,L as P}from"./LoadingSpinner-DgHZcYJm.js";import{s as x,p as b}from"./index-YNPHqK-K.js";import{S as C}from"./supplier-list-schema-DiLhSYiL.js";import{k as D,b as S,w as v,q as A,x as t,u as e,m as N,Q as a,R as T,Y as k}from"./vendor-grid-Bad8I008.js";import"./persons-CQb0edLH.js";async function B(){const{data:o,error:s}=await x.from("suppliers").select(`
      id,
      created_at,
      person:fk_person (
        display_name
      )
    `);if(s)throw s;if(!o)return[];const r=C.safeParse(o);if(!r.success)throw r.error;return r.data.sort((n,i)=>n.person.display_name.localeCompare(i.person.display_name))}const q=D({__name:"SupplierListPage",setup(o){const s=k({loader:()=>y(()=>import("./AgGridWrapper-BoIPiCLw.js"),__vite__mapDeps([0,1,2,3,4,5])),loadingComponent:P,delay:200}),r=[{headerName:"Name",field:"person.display_name"},{headerName:"Erstellt am",field:"created_at",valueFormatter:I}],{data:n,isLoading:i,errorMessage:u,execute:p}=L(B);return S(async()=>{await p()}),v(u,l=>{l&&b(l,"danger",1e4)}),(l,d)=>(N(),A(e(w),null,{default:t(()=>[a(e(c),{translucent:!0},{default:t(()=>[a(e(m),null,{default:t(()=>[a(e(f),{slot:"start"},{default:t(()=>[a(e(_))]),_:1}),a(e(g),null,{default:t(()=>[...d[0]||(d[0]=[T("Lieferanten Ãœbersicht",-1)])]),_:1})]),_:1})]),_:1}),a(e(h),{fullscreen:!0},{default:t(()=>[a(e(s),{rowData:e(n),columnDefs:r,isParentLoading:e(i)},null,8,["rowData","isParentLoading"])]),_:1})]),_:1}))}});export{q as default};
