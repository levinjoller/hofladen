System.register(["./index-legacy-CXiE44-D.js","./use-db-action-legacy-C83uysaO.js","./product-types-legacy-BV8aepTp.js","./_plugin-vue_export-helper-legacy-BVIICed7.js"],function(e,a){"use strict";var t,r,n,s,d,l,u,i,o,c,p,f,_,y,m,g,h,j,w,P,v,x,k,L,b;return{setters:[e=>{t=e.t,r=e.d,n=e.v,s=e.x,d=e.a,l=e.w,u=e.e,i=e.o,o=e.b,c=e.I,p=e.f,f=e.p,_=e.q,y=e.g,m=e.h,g=e.i,h=e.m,j=e.y},e=>{w=e.o,P=e.a,v=e.u,x=e.A,k=e.t},e=>{L=e.P,b=e.a},null],execute:function(){const a=w({...L.omit({fk_product_type:!0}).shape,type:w({...b.pick({display_name:!0,emoji:!0}).shape})}),D=P(a);async function N(){const{data:e,error:a}=await t.from("products").select("\n      id, \n      display_name,\n      created_at,\n      type:fk_product_type (\n        display_name,  \n        emoji\n      )\n      ").order("display_name",{ascending:!0});if(a)throw a;if(!e)return[];const r=D.safeParse(e);if(!r.success)throw r.error;return r.data}e("default",r({__name:"ProductListPage",setup(e){const a=[{headerName:"Bezeichnung",field:"display_name"},{headerName:"Kategorie",valueGetter:e=>`${e.data?.type?.emoji??""} ${e.data?.type?.display_name??""}`},{headerName:"Erstellt am",field:"created_at",valueFormatter:k}],{data:t,isLoading:r,errorMessage:w,execute:P}=v(N);return n(async()=>{await P()}),s(w,e=>{e&&j(e,"danger",1e4)}),(e,n)=>(i(),d(u(h),null,{default:l(()=>[o(u(c),{translucent:!0},{default:l(()=>[o(u(p),null,{default:l(()=>[o(u(f),{slot:"start"},{default:l(()=>[o(u(_))]),_:1}),o(u(y),null,{default:l(()=>[...n[0]||(n[0]=[m("Produkte Ãœbersicht",-1)])]),_:1})]),_:1})]),_:1}),o(u(g),{fullscreen:!0},{default:l(()=>[o(x,{rowData:u(t),columnDefs:a,isParentLoading:u(r)},null,8,["rowData","isParentLoading"])]),_:1})]),_:1}))}}))}}});
