System.register(["./index-legacy-CXiE44-D.js","./use-db-action-legacy-C83uysaO.js","./customer-list-schema-legacy-DHITW-W7.js","./_plugin-vue_export-helper-legacy-BVIICed7.js","./persons-legacy-aQIL9c9v.js"],function(e,a){"use strict";var t,r,s,n,l,u,o,c,i,d,f,m,_,p,g,y,h,w,j,x,v,L;return{setters:[e=>{t=e.t,r=e.d,s=e.v,n=e.x,l=e.a,u=e.w,o=e.e,c=e.o,i=e.b,d=e.I,f=e.f,m=e.p,_=e.q,p=e.g,g=e.h,y=e.i,h=e.m,w=e.y},e=>{j=e.u,x=e.A,v=e.t},e=>{L=e.C},null,null],execute:function(){async function a(){const{data:e,error:a}=await t.from("customers").select("\n      id,\n      created_at,\n      person:fk_person (\n        display_name\n      )\n    ");if(a)throw a;if(!e)return[];const r=L.safeParse(e);if(!r.success)throw r.error;return r.data.sort((e,a)=>e.person.display_name.localeCompare(a.person.display_name))}e("default",r({__name:"CustomerListPage",setup(e){const t=[{headerName:"Name",field:"person.display_name"},{headerName:"Erstellt am",field:"created_at",valueFormatter:v}],{data:r,isLoading:L,errorMessage:P,execute:b}=j(a);return s(async()=>{await b()}),n(P,e=>{e&&w(e,"danger",1e4)}),(e,a)=>(c(),l(o(h),null,{default:u(()=>[i(o(d),{translucent:!0},{default:u(()=>[i(o(f),null,{default:u(()=>[i(o(m),{slot:"start"},{default:u(()=>[i(o(_))]),_:1}),i(o(p),null,{default:u(()=>[...a[0]||(a[0]=[g("Kunden Ãœbersicht",-1)])]),_:1})]),_:1})]),_:1}),i(o(y),{fullscreen:!0},{default:u(()=>[i(x,{rowData:o(r),columnDefs:t,isParentLoading:o(L)},null,8,["rowData","isParentLoading"])]),_:1})]),_:1}))}}))}}});
