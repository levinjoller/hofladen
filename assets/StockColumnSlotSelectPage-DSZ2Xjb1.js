import{k as z,Y as A,Z as E,$ as F,a0 as G,a1 as M}from"./vendor-ionic-DL3WDV-g.js";import{k as R}from"./PaloxListPage-BxSjq6nu.js";import{u as T}from"./LoadingSpinner-DgHZcYJm.js";import{p as P,_ as $}from"./index-YNPHqK-K.js";import{k as q,w as _,l as n,m as a,v as k,u as o,Q as u,c as g,W as l,R as v,U as d,x as c,G as y,S as C,q as K,B as x}from"./vendor-grid-Bad8I008.js";import"./product-types-CV3CSiow.js";import"./customer-list-schema-BqaoqCG1.js";import"./persons-CQb0edLH.js";import"./supplier-list-schema-DiLhSYiL.js";const Q={class:"stock-column-slot-select-page"},U={key:0,class:"ion-padding ion-text-center"},W={key:1,class:"ion-padding"},X={key:2},Y={class:"ion-text-center ion-padding-bottom"},Z=q({__name:"StockColumnSlotSelectPage",props:{modelValue:{},selectedStock:{},activeStrategy:{}},emits:["update:modelValue"],setup(m,{emit:b}){const r=m,V=b,{data:i,isLoading:p,errorMessage:I,execute:N}=T(R);_(()=>r.selectedStock.id,async e=>{e&&await N(e)},{immediate:!0}),_(I,e=>{e&&P(e,"danger",6e3)});const h=g(()=>{const e=r.activeStrategy.getMaxSelection();return e===Number.MAX_SAFE_INTEGER?"unbegrenzt":e}),w=g(()=>!p.value&&i.value&&i.value.length>0),B=g(()=>!p.value&&(!i.value||i.value.length===0)),D=e=>r.modelValue?.some(t=>t.slot_id===e.slot_id)??!1,f=e=>r.activeStrategy.isDisabled(e),L=e=>{if(f(e))return;const t=r.activeStrategy.select(e,r.modelValue);V("update:modelValue",t)};return(e,t)=>(a(),n("div",Q,[o(p)?(a(),n("div",U,[u(o(z),{name:"crescent"})])):B.value?(a(),n("div",W,[...t[0]||(t[0]=[l("p",{class:"ion-text-center"}," Keine Lagerplätze in diesem Lager verfügbar. ",-1)])])):w.value?(a(),n("div",X,[l("h2",Y,[t[3]||(t[3]=v(" Lager ",-1)),l("strong",null,d(m.selectedStock?.display_name),1),t[4]||(t[4]=l("br",null,null,-1)),l("small",null,[t[1]||(t[1]=v(" Ausgewählt: ",-1)),l("strong",null,d(m.modelValue?.length??0),1),t[2]||(t[2]=v(" / ",-1)),l("strong",null,d(h.value),1)])]),u(o(M),null,{default:c(()=>[u(o(A),null,{default:c(()=>[(a(!0),n(y,null,C(o(i),S=>(a(),K(o(E),{key:S.column_number,class:"ion-text-center"},{default:c(()=>[(a(!0),n(y,null,C(S.slots,s=>(a(),n("div",{key:s.slot_id},[u(o(F),{class:x({"slot-disabled":f(s)}),color:D(s)?"primary":"",disabled:f(s),onClick:j=>L(s)},{default:c(()=>[u(o(G),null,{default:c(()=>[l("div",null,d(s.display_name),1),s.free_levels!==null?(a(),n("div",{key:0,class:x(["free-levels",s.is_full?"full":"free"])},[t[5]||(t[5]=l("span",{class:"dot"},null,-1)),l("span",null,d(s.free_levels),1)],2)):k("",!0)]),_:2},1024)]),_:2},1032,["class","color","disabled","onClick"])]))),128))]),_:2},1024))),128))]),_:1})]),_:1})])):k("",!0)]))}}),oe=$(Z,[["__scopeId","data-v-d1324644"]]);export{oe as default};
