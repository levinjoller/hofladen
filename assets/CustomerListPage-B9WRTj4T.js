const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/AgGridWrapper-BoIPiCLw.js","assets/vendor-grid-Bad8I008.js","assets/index-YNPHqK-K.js","assets/vendor-ionic-DL3WDV-g.js","assets/index-CfmnWJvu.css","assets/AgGridWrapper-CBYO6srd.css"])))=>i.map(i=>d[i]);
import{a as c,b as p,w as f,x as _,c as g,d as h,v as w,_ as y}from"./vendor-ionic-DL3WDV-g.js";import{u as C,t as L,L as I}from"./LoadingSpinner-DgHZcYJm.js";import{s as P,p as x}from"./index-YNPHqK-K.js";import{C as b}from"./customer-list-schema-BqaoqCG1.js";import{k as D,b as v,w as A,q as N,x as t,u as e,m as T,Q as a,R as k,Y as B}from"./vendor-grid-Bad8I008.js";import"./persons-CQb0edLH.js";async function E(){const{data:r,error:o}=await P.from("customers").select(`
      id,
      created_at,
      person:fk_person (
        display_name
      )
    `);if(o)throw o;if(!r)return[];const s=b.safeParse(r);if(!s.success)throw s.error;return s.data.sort((n,i)=>n.person.display_name.localeCompare(i.person.display_name))}const q=D({__name:"CustomerListPage",setup(r){const o=B({loader:()=>y(()=>import("./AgGridWrapper-BoIPiCLw.js"),__vite__mapDeps([0,1,2,3,4,5])),loadingComponent:I,delay:200}),s=[{headerName:"Name",field:"person.display_name"},{headerName:"Erstellt am",field:"created_at",valueFormatter:L}],{data:n,isLoading:i,errorMessage:u,execute:m}=C(E);return v(async()=>{await m()}),A(u,l=>{l&&x(l,"danger",1e4)}),(l,d)=>(T(),N(e(w),null,{default:t(()=>[a(e(c),{translucent:!0},{default:t(()=>[a(e(p),null,{default:t(()=>[a(e(f),{slot:"start"},{default:t(()=>[a(e(_))]),_:1}),a(e(g),null,{default:t(()=>[...d[0]||(d[0]=[k("Kunden Ãœbersicht",-1)])]),_:1})]),_:1})]),_:1}),a(e(h),{fullscreen:!0},{default:t(()=>[a(e(o),{rowData:e(n),columnDefs:s,isParentLoading:e(i)},null,8,["rowData","isParentLoading"])]),_:1})]),_:1}))}});export{q as default};
